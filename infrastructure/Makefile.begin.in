# Makefile.begin --
#
# Common variables and rules.

#page
## ------------------------------------------------------------
## Global variables and default values.
## ------------------------------------------------------------

PACKAGE_NAME		= @PACKAGE_NAME@
PACKAGE_VERSION		= @PACKAGE_VERSION@
PKG_ID			= @PKG_ID@

## ------------------------------------------------------------
## Binary package distribtion building variables.

# The variable 'package_BUILD_VERSION'  should be defined in
# "Makefile.custom".  If  not we set a default  that does no
# harm.
ifeq ($(strip $(package_BUILD_VERSION)),)
package_BUILD_VERSION	= 1nau
endif

package_NAME		= $(PACKAGE_NAME)
package_VERSION		= $(PACKAGE_VERSION)
package_ARCH		= noarch

package_PREFIX		= \
$(package_NAME)-$(package_VERSION)-$(package_ARCH)-$(package_BUILD_VERSION)

## ------------------------------------------------------------

#page
## ------------------------------------------------------------
## Configuration variables.
## ------------------------------------------------------------

# If set to 'yes' source files will be installed.
nausicaa_ENABLE_SLS	= @nausicaa_ENABLE_SLS@

# If set to 'yes' fasl files will be produced and installed.
nausicaa_ENABLE_FASL	= @nausicaa_ENABLE_FASL@

# If set to 'yes' documentation files will be produced and
# installed.
nausicaa_ENABLE_DOC	= @nausicaa_ENABLE_DOC@

# If set to 'yes' Info documentation files will be produced
# and installed.
nausicaa_ENABLE_INFO_DOC= @nausicaa_ENABLE_INFO_DOC@

# If set to 'yes' HTML documentation files will be produced
# and installed.
nausicaa_ENABLE_HTML_DOC= @nausicaa_ENABLE_HTML_DOC@

# Compressor to be used when creating a tarball; it is used
# by the binary distribution rules.  Supported values:
#
#   bzip2		selects the Bzip2 compressor
#   gzip		selects the Gzip compressor
#
# if a different value is set, the compressor will default
# to 'gzip'.
# 
nausicaa_COMPRESSOR	?= gzip

## ------------------------------------------------------------

#page
## ------------------------------------------------------------
## Directories.
## ------------------------------------------------------------

ifeq ($(strip $(TMPDIR)),)
TMPDIR		= /tmp
endif

## ------------------------------------------------------------

# The  other modules  will assume  that this  is  a relative
# directory  pathname, and  the full  pathname can  be built
# with: '$(PWD)/$(srcdir)'.
srcdir			= @srcdir@

# The  other modules  will assume  that this  is  a relative
# directory  pathname, and  the full  pathname can  be built
# with: '$(PWD)/$(builddir)'.
builddir		= @builddir@

## ------------------------------------------------------------

prefix			= @prefix@
exec_prefix		= @exec_prefix@

bindir			= @bindir@
datarootdir		= @datarootdir@
datadir			= @datadir@
docdir			= @datarootdir@/doc
includedir		= @includedir@
infodir			= @infodir@
libdir			= @libdir@
libexecdir		= @libexecdir@
localstatedir		= @localstatedir@
mandir			= @mandir@
sbindir			= @sbindir@
sharedstatedir		= @sharedstatedir@
sysconfdir		= @sysconfdir@

PKG_DIR			= @PKG_DIR@
pkgdatadir		= @pkgdatadir@
pkgdocdir		= @pkgdocdir@
pkgexampledir		= @pkgexampledir@
pkginfodir		= @pkginfodir@
pkghtmldir		= @pkghtmldir@
pkgincludedir		= @pkgincludedir@
pkglibdir		= @pkglibdir@
pkglibexecdir		= @pkglibexecdir@
pkgsysconfdir		= @pkgsysconfdir@

ikarus_PKGLIBDIR	= $(libdir)/ikarus

## ------------------------------------------------------------

#page
## ------------------------------------------------------------
## Common programs.
## ------------------------------------------------------------

BASH_PROGRAM	= @BASH_PROGRAM@
SHELL		= @SHELL@
@SET_MAKE@

BZIP		= @BZIP@
CAT		= @CAT@
CP		= @CP@ --force --verbose --preserve=mode --
FIND		= @FIND@
GREP		= @GREP@
GAWK		= @GAWK@
GZIP		= @GZIP@
M4		= @M4@
MAKEINFO	= @MAKEINFO@
MKDIR		= @MKDIR@ --parents --verbose
MV		= @MV@ --verbose --
RM		= @RM@ --force --recursive --verbose --
RM_FILE		= @RM@ --force --verbose --
RM_SILENT	= @RM@ --force --recursive --
RMDIR		= @RMDIR@ --parents --ignore-fail-on-non-empty --
SED		= @SED@
SORT		= @SORT@
SUDO		= @SUDO@
SYMLINK		= @SYMLINK@ --symbolic
TAR		= @TAR@

IKARUS		= @IKARUS@
SCHEME_SCRIPT	= @SCHEME_SCRIPT@

## ------------------------------------------------------------

INSTALL			= @INSTALL@
INSTALL_DIR_MODE	?= 0755
INSTALL_BIN_MODE	?= 0555
INSTALL_DATA_MODE	?= 0444
INSTALL_LIB_MODE	?= 0444

# Notice   that  the   "install-sh"  script,   from   the  X
# Consortium, that comes with GNU Autoconf packages does not
# support the '-p'  and '--preserve-timestamps' options that
# GNU install  supports, and  this will cause  problems when
# installing both the .sls  and fasl files.  Let's hope that
# everybody has GNU install. :)
INSTALL_DIR		= $(INSTALL) -p -m $(INSTALL_DIR_MODE) -d
INSTALL_BIN		= $(INSTALL) -p -m $(INSTALL_BIN_MODE)
INSTALL_DATA		= $(INSTALL) -p -m $(INSTALL_DATA_MODE)

## ------------------------------------------------------------

MAKEINFO_FLAGS		= --no-split -I$(doc_texinfo_SRCDIR) -I$(doc_texinfo_BUILDDIR)
MAKEINFO_INFO_FLAGS	= $(MAKEINFO_FLAGS)
MAKEINFO_HTML_FLAGS	= $(MAKEINFO_FLAGS) --html

## ------------------------------------------------------------

#page
## ------------------------------------------------------------
## Master phony rules.
## ------------------------------------------------------------

.PHONY: all clean realclean install uninstall clean-builddir
.PHONY: doc doc-clean doc-install doc-uninstall
.PHONY: compile compile-clean

all:
clean:
realclean:	clean
install:
uninstall:

clean-builddir:
	-@printf '*** The build directory is: %s\n' $(builddir)
	-@read -p '*** Are you sure to clean it? (yes/no) ' ANSWER; \
	test "$${ANSWER}" = yes && $(RM) $(builddir)/*

## ------------------------------------------------------------

doc:
doc-clean:
doc-install:
doc-uninstall:

all:		doc
clean:		doc-clean
install:	doc-install
uninstall:	doc-uninstall

## ------------------------------------------------------------

compile:
compile-clean:

## ------------------------------------------------------------


### end of file
# Local Variables:
# mode: makefile
# fill-column: 60
# End:
